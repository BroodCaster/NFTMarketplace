{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\root\\\\Desktop\\\\marketplace(demo)\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\root\\\\Desktop\\\\marketplace(demo)\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport Web3 from 'web3';\nimport NFTMarketplace from \"../abis/NFTMarketplace.json\";\nvar selectedAccount;\nexport var init =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee() {\n    var provider, web3, networkId;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            provider = window.ethereum;\n\n            if (typeof provider !== 'undefined') {\n              provider.request({\n                method: 'eth_requestAccounts'\n              }).then(function (accounts) {\n                selectedAccount = accounts[0];\n                console.log(\"Selected account\", accounts);\n              }).catch(function (err) {\n                console.log(err);\n              });\n              window.ethereum.on('accountsChanged', function (accounts) {\n                selectedAccount = accounts[0];\n                console.log(\"Selected account: \", accounts);\n              });\n            } else {\n              console.log(\"Error\");\n            }\n\n            web3 = new Web3(provider);\n            _context.next = 5;\n            return web3.eth.net.getId();\n\n          case 5:\n            networkId = _context.sent;\n            console.log(NFTMarketplace.networks); //const nftcontract = new web3.eth.Contract(NFTMarketplace.abi, NFTMarketplace.networks[networkID].address)\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function init() {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["C:\\Users\\root\\Desktop\\marketplace(demo)\\src\\components\\web3.js"],"names":["Web3","NFTMarketplace","selectedAccount","init","provider","window","ethereum","request","method","then","accounts","console","log","catch","err","on","web3","eth","net","getId","networkId","networks"],"mappings":";;AAAA,OAAOA,IAAP,MAAiB,MAAjB;AACA,OAAOC,cAAP,MAA2B,6BAA3B;AAEA,IAAIC,eAAJ;AAEA,OAAO,IAAMC,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AACZC,YAAAA,QADY,GACDC,MAAM,CAACC,QADN;;AAGZ,gBAAG,OAAOF,QAAP,KAAoB,WAAvB,EAAmC;AAC/BA,cAAAA,QAAQ,CACCG,OADT,CACiB;AAACC,gBAAAA,MAAM,EAAE;AAAT,eADjB,EAESC,IAFT,CAEc,UAACC,QAAD,EAAc;AAChBR,gBAAAA,eAAe,GAAGQ,QAAQ,CAAC,CAAD,CAA1B;AACAC,gBAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCF,QAAhC;AAEH,eANT,EAOSG,KAPT,CAOe,UAACC,GAAD,EAAS;AACZH,gBAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACH,eATT;AAUQT,cAAAA,MAAM,CAACC,QAAP,CAAgBS,EAAhB,CAAmB,iBAAnB,EAAsC,UAASL,QAAT,EAAkB;AACpDR,gBAAAA,eAAe,GAAGQ,QAAQ,CAAC,CAAD,CAA1B;AACAC,gBAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCF,QAAlC;AAEH,eAJD;AAKX,aAhBD,MAiBI;AACAC,cAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACH;;AACKI,YAAAA,IAvBM,GAuBC,IAAIhB,IAAJ,CAASI,QAAT,CAvBD;AAAA;AAAA,mBAwBYY,IAAI,CAACC,GAAL,CAASC,GAAT,CAAaC,KAAb,EAxBZ;;AAAA;AAwBNC,YAAAA,SAxBM;AAyBZT,YAAAA,OAAO,CAACC,GAAR,CAAYX,cAAc,CAACoB,QAA3B,EAzBY,CA0BZ;;AA1BY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAJlB,IAAI;AAAA;AAAA;AAAA,GAAV","sourcesContent":["import Web3 from 'web3';\r\nimport NFTMarketplace from \"../abis/NFTMarketplace.json\";\r\n\r\nlet selectedAccount;\r\n\r\nexport const init = async () => {\r\n    let provider = window.ethereum;\r\n\r\n        if(typeof provider !== 'undefined'){\r\n            provider\r\n                    .request({method: 'eth_requestAccounts'})\r\n                    .then((accounts) => {\r\n                        selectedAccount = accounts[0];\r\n                        console.log(\"Selected account\", accounts);\r\n                        \r\n                    })\r\n                    .catch((err) => {\r\n                        console.log(err);\r\n                    });\r\n                    window.ethereum.on('accountsChanged', function(accounts){\r\n                        selectedAccount = accounts[0];\r\n                        console.log(\"Selected account: \", accounts);\r\n\r\n                    });\r\n        }\r\n        else{\r\n            console.log(\"Error\")\r\n        }\r\n        const web3 = new Web3(provider);\r\n        const networkId = await web3.eth.net.getId();\r\n        console.log(NFTMarketplace.networks)\r\n        //const nftcontract = new web3.eth.Contract(NFTMarketplace.abi, NFTMarketplace.networks[networkID].address)\r\n}"]},"metadata":{},"sourceType":"module"}